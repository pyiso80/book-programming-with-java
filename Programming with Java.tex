%!TEX TS-program = xelatex  
%!TEX encoding = UTF-8 Unicode
\documentclass[twoside, hidelinks]{book}
\hfuzz=10000pt
\hbadness=99999
\usepackage[paperheight=9.25in,
                paperwidth=7.38in,
                left=1.4in,
                right=.75in,
                top=.75in,
                bottom=1.25in,
                footskip=0.6in,
                heightrounded]{geometry}
 
\usepackage[export]{adjustbox}
                
\usepackage[dvipsnames]{xcolor}
\usepackage{varioref}
\usepackage{xspace}
\usepackage{fancyhdr}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{blindtext}
\usepackage{fontspec}
\usepackage{titlesec} 
\usepackage{titletoc} 
\usepackage{listings}
\usepackage{caption}
\usepackage[unicode=true]{hyperref}
\usepackage{afterpage}
\usepackage{booktabs}


%%% Experimental to solve error regarding pdf render and hyperlink error
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{naturalnames}{hyperref}
\pdfstringdefDisableCommands{%
  \def\\{}%
  \def\texttt#1{<#1>}%
}

%\hypersetup{colorlinks = false,linkcolor = blue,anchorcolor =red,citecolor = blue,filecolor = red,urlcolor = red, pdfauthor=author}


%%%  Replace english with Myanmar, tweaking varioref package 
\def\reftextfaceafter{on the \reftextvario{facing}{next} စာမျက်နှာ}%
\def\reftextfacebefore{on the \reftextvario{facing}{preceding}စာမျက်နှာ}%
\def\reftextafter{on the \reftextvario{following}{next} စာမျက်နှာ}%
\def\reftextbefore{on the \reftextvario{preceding}{previous} စာမျက်နှာ}%
\def\reftextcurrent{on \reftextvario{this}{the current} စာမျက်နှာ}%
\def\reftextfaraway#1{စာမျက်နှာ~\pageref{#1}}%
\def\reftextpagerange#1#2{on စာမျက်နှာ၂၂~\pageref{#1}--\pageref{#2}}%
\def\reftextlabelrange#1#2{\ref{#1} to~\ref{#2}}%

\renewcommand{\thesubfigure}{\alph{subfigure}}
\makeatletter
\renewcommand\p@subfigure{\thefigure,~}
\makeatother

%%% Replace english names with Myanmar
\renewcommand{\contentsname}{မာတိကာ} 
\renewcommand{\chaptername}{}
\renewcommand{\figurename}{ပုံ}
\renewcommand\lstlistingname{Listing}
\renewcommand\lstlistlistingname{Listings}

%%% definition of Apple colors
\definecolor{iron}{HTML}{5E5E5E}
\definecolor{steel}{HTML}{797979}
\definecolor{tungsten}{HTML}{424242}
\definecolor{lead}{HTML}{212121}
\definecolor{steelblue}{HTML}{36648B}
\definecolor{steelblue}{HTML}{36648B}
\definecolor{lightsteelblue}{HTML}{A2B5CD}
\definecolor{skyblue}{HTML}{607B8B}
\definecolor{lstcptcolor}{HTML}{5E95C1}

\newcommand{\hdrcolor}{skyblue}
\newcommand{\cptcolor}{steel}
\newcommand{\lstcapboxcolor}{lstcptcolor}
\newcommand{\lstcapcolor}{white}
\newcommand{\tblcapcolor}{steel}
\newcommand{\tblhdrtxtcolor}{tungsten}








%%% Header, footer, page number etc., style
\fancyhf{}
\renewcommand{\chaptermark}[1]{ \markboth{\mymmchhdrnumfnt\thechapter.\ #1}{}}
%\renewcommand{\chaptermark}[1]{ \markboth{\thechapter.\ \chaptername.\ #1}{}}
\renewcommand{\sectionmark}[1]{ \markright{\mymmsechdrnumfnt\thesection\ #1}{}}
\fancyhead[LO]{\color{\hdrcolor}\bfseries\mymmhdr\nouppercase{\leftmark}}
\fancyhead[RE]{\color{\hdrcolor}\bfseries\mymmhdr\nouppercase{\rightmark}}
\fancyfoot[LO,RE]{\thepage}
\pagestyle{fancy}
\setlength{\headsep}{15pt}
\setlength{\headheight}{30pt}% ...at least 51.60004pt
\renewcommand\headrule{
\begin{minipage}
    {1\textwidth}
    \color{MidnightBlue}\hrule width \hsize \kern 1mm 
    \color{MidnightBlue}\hrule width \hsize height 2pt 
\end{minipage}}%


%%% Font related tweaks
\defaultfontfeatures{Script=Myanmar,Mapping=tex-text} 
\fontspec[Script=Myanmar, BoldFont={Padauk Book Bold}, ]{Padauk Book}
\setmainfont[Color=tungsten,
                UprightFont={Padauk Book},
                BoldFont={Padauk Book Bold},
                ItalicFont={Padauk Book},
                BoldItalicFont={Padauk Book Bold},
                SmallCapsFont={Padauk Book},
                SlantedFont={Padauk Book}]{Padauk Book}
                [Renderer=Harfbuzz,Script=Myanmar]


%%% Define fonts english font to be used in between Myanmar text               
% Helvetica Neue, Geneva, Tahoma
% Font for normal english words and program code related words to be used in paragraph
%\newfontfamily\myparaen[Color=tungsten, Scale=MatchLowercase]{Verdana}
%\newfontfamily\mycode[Color=lead, Scale=1]{Ubuntu Mono}

%\DeclareTextFontCommand{\myen}{\myparaen}
%\DeclareTextFontCommand{\txtmycode}{\mycode}

%%%=================================================================================================
%%% CHAPTER AND SECTION RELATED FORMATTING
\newcommand{\mymmchttlfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed}\selectfont}
\newcommand{\myenchttlfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Times New Roman Bold}]{Times New Roman}\selectfont}
\newcommand{\mymmchttlnumfnt}        {\fontspec[Script=Myanmar,Scale=2.5, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed}\selectfont}
\newcommand{\mymmsecttlfnt}          {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\myensecttlfnt}          {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsecttlnumfnt}       {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsubsecttlfnt}          {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\myensubsecttlfnt}          {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsubsecttlnumfnt}       {\fontspec[Script=Myanmar,Scale=1, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsubsubsecttlfnt}          {\fontspec[Script=Myanmar,Scale=.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\myensubsubsecttlfnt}          {\fontspec[Script=Myanmar,Scale=.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsubsubsecttlnumfnt}       {\fontspec[Script=Myanmar,Scale=.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmpartttlfnt}          {\fontspec[Script=Myanmar,Scale=0.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\myenpartttlfnt}          {\fontspec[Script=Myanmar,Scale=0.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmpartttlnumfnt}       {\fontspec[Script=Myanmar,Scale=0.8, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmchhdrnumfnt}        {\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmsechdrnumfnt}        {\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmtblhdrfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed}\selectfont}
\newcommand{\myentblhdrfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Times New Roman Bold}]{Times New Roman}\selectfont}

\newcommand{\mymmhdr}          {\fontspec[Script=Myanmar,Scale=0.8, BoldFont={Padauk Bold}]{Padauk}\selectfont}

\newcommand{\mycodegeneric}       {\fontspec[Script=Latin,Scale=1, BoldFont={Ubuntu Mono Bold}]{Ubuntu Mono}\selectfont}

\newcommand{\myenchttl}   [1]{{\myenchttlfnt{#1}}}
\newcommand{\myensecttl}   [1]{{\myensecttlfnt{#1}}}
\newcommand{\myensubsecttl}   [1]{{\myensubsecttlfnt{#1}}}
\newcommand{\myensubsubsecttl}   [1]{{\myensubsubsecttlfnt{#1}}}
\newcommand{\myenpartttl}   [1]{{\myenpartttlfnt{#1}}}
\newcommand{\myentblhdr}   [1]{{\myentblhdrfnt{#1}}}


\newcommand{\mycodechttl}   [1]{{\mycodegeneric{#1}}}
\newcommand{\mycodesecttl}   [1]{{\mycodegeneric{#1}}}
\newcommand{\mycodesubsecttl}   [1]{{\mycodegeneric{#1}}}
\newcommand{\mycodesubsubsecttl}   [1]{{\mycodegeneric{#1}}}

\newcommand{\mycodepartttl}   [1]{{\mycodegeneric{#1}}}
\newcommand{\mytblhdr}[1]{\textnormal{\color{\tblhdrtxtcolor}\textbf\mymmtblhdrfnt{#1}}}

\titleformat{\chapter}[display] 
    {\color{MidnightBlue}\Huge\bfseries\mymmchttlfnt }{\color{lightsteelblue}{\Huge\mymmchttlnumfnt\thechapter}}{1ex}
    {\filright} 
\titleformat{\section}[block] 
    {\color{MidnightBlue}\large\bfseries\mymmsecttlfnt }{{\color{MidnightBlue}\large\bfseries\mymmsecttlnumfnt\thesection}}{1em}{}
\titleformat{\subsection}[block] 
    {\color{MidnightBlue}\large\bfseries\mymmsubsecttlfnt }{{\color{MidnightBlue}\large\bfseries\mymmsubsecttlnumfnt\thesubsection}}{1em}{}
\titleformat{\subsubsection}[block] 
    {\color{MidnightBlue}\large\bfseries\mymmsubsubsecttlfnt }{{\color{MidnightBlue}\large\bfseries\mymmsubsubsecttlnumfnt\thesubsubsection}}{1em}{}
\titleformat{\part}[display] 
    {\filcenter\LARGE\mymmpartttlfnt}{{\large\partname\; \mymmpartttlnumfnt\thepart}}{1em}{\thispagestyle{empty}}

%%% Figure and listing's caption related logical formatting
\newcommand{\mymmfigcptfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed}\selectfont}
\newcommand{\myenfigcptfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Times New Roman Bold}]{Times New Roman}\selectfont}
\newcommand{\mymmfigcptnumfnt}        {\fontspec[Script=Myanmar,Scale=2.5, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mymmlstcptfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed}\selectfont}
\newcommand{\myenlstcptfnt}           {\fontspec[Script=Myanmar,Scale=1, BoldFont={Times New Roman Bold}]{Times New Roman}\selectfont}
\newcommand{\mymmlstcptnumfnt}        {\fontspec[Script=Myanmar,Scale=2.5, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}

\newcommand{\myenfigcpt}   [1]{{\myenfigcptfnt{#1}}}
\newcommand{\mycodefigcpt}   [1]{{\myenfigcptfnt{#1}}}
\newcommand{\myenlstcpt}   [1]{{\myenlstcptfnt{#1}}}
\newcommand{\mycodelstcpt}   [1]{{\mycodegeneric{#1}}}

%%%=================================================================================================
%%% TOC, FIGURE, LISTING CAPTIONS
%\renewcommand{\thesubfigure}{\alph{subfigure}}
%https://tex.stackexchange.com/questions/125849/change-ref-format-for-subfigures/125881#125881
\DeclareCaptionSubType[alph]{figure}
%\captionsetup[subfigure]{labelformat=simple,justification=centerlast}

\renewcommand\thesubfigure{\alph{subfigure})}
\makeatletter
\renewcommand\p@subfigure{\thefigure~}
\makeatother
\DeclareCaptionFont{captionfont}{\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Padauk Bold}, Color=\cptcolor]{Padauk}\selectfont}
\captionsetup[figure]{singlelinecheck=false,justification=raggedright,font={captionfont, bf, small,sc,onehalfspacing,color=\cptcolor}}
\DeclareCaptionLabelFormat{closing}{#2)}
\captionsetup[subfigure]{labelformat=simple, labelsep=space}

\DeclareCaptionFont{lstcptfullfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, Color=white, BoldFont={Padauk Bold}]{Padauk}\selectfont}
\DeclareCaptionFont{lstcptlblfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, Color=white, BoldFont={Padauk Bold}]{Padauk}\selectfont}
\DeclareCaptionFont{lstcpttxtfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, Color=white, BoldFont={Padauk Bold}]{Padauk}\selectfont}

\DeclareCaptionFont{tblcptfullfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Padauk Bold}]{Padauk}\selectfont}
\DeclareCaptionFont{tblcptlblfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Padauk Bold}]{Padauk}\selectfont}
\DeclareCaptionFont{tblcpttxtfnt}{\fontspec[Script=Myanmar,Scale=MatchLowercase, BoldFont={Padauk Bold}]{Padauk}\selectfont}

\DeclareCaptionLabelFormat{custom}
{%
      #1 \textbf{#2}  %to get "Figure (1)", "Figure [1]", etc
}
% Separator style
\DeclareCaptionLabelSeparator{custom}{-- } % to get "Figure (1):", "Figure(1) - Some caption" etc
% Caption format    
\DeclareCaptionFormat{custom}
{%
    #1#2\small #3
}
\captionsetup
{
    format=custom,%
    labelformat=custom,%
    labelsep=custom
}

\DeclareCaptionLabelFormat{lstcptlblfmt}
{%
      #1 \textbf{#2}  %to get "Figure (1)", "Figure [1]", etc
}
% Separator style
\DeclareCaptionLabelSeparator{lstcptsep}{-- } % to get "Figure (1):", "Figure(1) - Some caption" etc
% Caption format    
\DeclareCaptionFormat{lstcptfullfmt}
{%
    %#1#2\small #3
    \colorbox{\lstcapboxcolor}{\parbox{\dimexpr\textwidth-2\fboxsep\relax}{#1#2#3}}
}
\captionsetup[lstlisting]
{
    format=lstcptfullfmt,%
    labelfont={lstcptlblfnt,bf, normalsize}, % affect label num and sep
    textfont={lstcpttxtfnt,bf, normalsize},  % affect caption text
    labelformat=lstcptlblfmt, % Listing (၂.၁), Listing <၂.၁> etc
    labelsep=lstcptsep % Listing (၂.၁) - or Listing (၂.၁): etc
}

\DeclareCaptionLabelFormat{tblcptlblfmt}
{%
      #1 \textbf{#2}  %to get "Figure (1)", "Figure [1]", etc
}
% Separator style
\DeclareCaptionLabelSeparator{tblcptsep}{-- } % to get "Figure (1):", "Figure(1) - Some caption" etc
% Caption format    
\DeclareCaptionFormat{tblcptfullfmt}
{%
    \color{\tblcapcolor} #1#2\small #3
}
\captionsetup[table]
{
    format=tblcptfullfmt,%
    labelfont={tblcptlblfnt,bf, normalsize}, % affect label num and sep
    textfont={tblcpttxtfnt,bf, normalsize},  % affect caption text
    labelformat=tblcptlblfmt, % Listing (၂.၁), Listing <၂.၁> etc
    labelsep=tblcptsep % Listing (၂.၁) - or Listing (၂.၁): etc
}

% For table of contents
\contentsmargin[1cm]{0cm}
\titlecontents{chapter}[0em]{\color{steelblue}\large\bfseries}
{\thecontentslabel\enspace}
{\hspace{1.05em}}
{ \hfill\contentspage}[\vskip 6pt]

\titlecontents{section}[1em]{\color{steelblue}\normalsize\bfseries}
{\thecontentslabel\enspace}
{}
{\titlerule*[1pc]{.}\quad\contentspage}[\vskip 4pt]

\titlecontents{subsection}[2.7em]{\color{steelblue}\normalfont\bfseries}
{\thecontentslabel\enspace}
{}
{\titlerule*[1pc]{.}\quad\contentspage}[\vskip 3pt]
%%%=================================================================================================


%Noto Serif Myanmar SemiCondensed Bold
%Myanmar Angoun
\newcommand{\mmpdk}       {\fontspec[Script=Myanmar,Scale=0.85, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
%\newcommand{\mmpdkchno}       {\fontspec[Script=Myanmar,Scale=1.5, BoldFont={Myanmar Angoun}]{Myanmar Angoun}\selectfont}
\newcommand{\mmpdkchno}       {\fontspec[Script=Myanmar,Scale=2, BoldFont={Noto Serif Myanmar SemiCondensed Bold}]{Noto Serif Myanmar SemiCondensed Bold}\selectfont}

%%% Switching to type writer font and sans serif font in paragraph
% Make sure to set the color to match the main font color
\newcommand{\mycodetmp}   {\fontspec[Color=lead, Scale=1, Script=Latin]{Ubuntu Mono}\selectfont}
\newcommand{\myentmp}     {\fontspec[Color=tungsten, Scale=1,Scale=MatchLowercase, Script=Latin]{Verdana}\selectfont}
% Limiting the scope of the selected font
\newcommand{\mycode}   [1]{{\mycodetmp{#1}}}
\newcommand{\mycodebf}   [1]{{\bfseries\mycodetmp{#1}}}
\newcommand{\myen}   [1]{{\myentmp{#1}}}

%%% With \XeTeXinterwordspaceshaping=2, \color or \textcolor doesn't work 
% This is a workaround to color text 
\newcommand{\myemcodetmp}   {\fontspec[Scale=1, Color=red, Script=Latin]{Ubuntu Mono}\selectfont}
\newcommand{\myementmp}     {\fontspec[Scale=1,Scale=MatchLowercase, Color=red, Script=Latin]{Verdana}\selectfont}
\newcommand{\myemmmtmp}     {\fontspec[Scale=1,Scale=MatchLowercase, Color=red]{Padauk Book}\selectfont}
% Limiting the scope of the selected font
\newcommand{\myemcode}   [1]{{\myemcodetmp{#1}}}
\newcommand{\myemen}   [1]{{\myementmp{#1}}}
\newcommand{\myemmm}   [1]{{\myemmmtmp{#1}}}

\newcommand{\mydefcodetmp}   {\fontspec[Scale=1, Color=MidnightBlue, Script=Latin]{Ubuntu Mono}\selectfont}
\newcommand{\mydefentmp}     {\fontspec[Scale=1,Scale=MatchLowercase, Color=MidnightBlue, Script=Latin]{Verdana}\selectfont}
\newcommand{\mydefmmtmp}     {\fontspec[Scale=1,Scale=MatchLowercase, Color=MidnightBlue]{Padauk Book}\selectfont}
% Limiting the scope of the selected font
\newcommand{\mydefcode}   [1]{{\mydefcodetmp{#1}}}
\newcommand{\mydefen}   [1]{{\mydefentmp{#1}}}
\newcommand{\mydefmm}   [1]{{\mydefmmtmp{#1}}}


%%% Switching to type writer font and sans serif font in titles and caption
% Make sure not to set the color. Color should be applied later at the respective
% formatting applied to titles, caption, headers etc.,
\newcommand{\myttlcodetmp}   {\fontspec[Scale=1, Script=Latin, Scale=MatchLowercase,BoldFont={Fira Mono Medium}]{Fira Mono}\selectfont}
\newcommand{\myttlentmp}   {\fontspec[Scale=1,Scale=MatchLowercase, Script=Latin]{Verdana}\selectfont}
%Arial Rounded MT Bold
\newcommand{\myenchsectmp}   {\fontspec[Scale=1,Scale=MatchLowercase, Script=Latin, BoldFont={Helvetica Neue Medium}]{Helvetica Neue Medium}\selectfont}
\newcommand{\mymmchsectmp}   {\fontspec[Scale=1,Scale=MatchLowercase, Script=Myanmar]{Myanmar Angoun}\selectfont}

% Limiting the scope of the selected font
\newcommand{\myttlcode}   [1]{{\myttlcodetmp{#1}}}
\newcommand{\myttlen}   [1]{{\myttlentmp{#1}}}
\newcommand{\myenchsec}   [1]{{\myenchsectmp{#1}}}
\newcommand{\mymmchsec}   [1]{{\mymmchsectmp{#1}}}



%%% Changes the spacing for everything in the document, including footnotes and tables 
\renewcommand{\baselinestretch}{1.35} 


%%% Auto numbering in Myanmar %%%
%This macro is to produce myanmar numbering by adopting the thai numbering method
\makeatletter  
\def\@mmnum#1{\expandafter\@@mmnum\number#1\@nil}  
\def\@@mmnum#1{%  
  \ifx#1\@nil  
  \else  
  \char\numexpr#1+"1040\relax  
  \expandafter\@@mmnum\fi  
}  
\renewcommand\@arabic{\@mmnum} % to reset number in \arabic to \mmnum 

\makeatother 
\makeatletter  
\def\@mmalph#1{\expandafter\@@mmalph\number#1\@nil}  
\def\@@mmalph#1{%  
  \ifx#1\@nil  
  \else  
  \char\numexpr#1+"1000-1\relax  
  \expandafter\@@mmalph\fi  
}  
\renewcommand\@alph{\@mmalph} % to reset number in \alph to \mmalph 
\makeatother 






%%% Code listing related
\newfontface\pgcode[Scale=1, BoldFont={Ubuntu Mono Bold}, Script=Latin, Color=iron]{Ubuntu Mono}
% https://tex.stackexchange.com/questions/551500/elegant-margin-in-listing-environment

\lstnewenvironment{lstcodeminimal}[1][]{
  \lstset{
      language     = Java,
      %backgroundcolor=\color{gray!10!white},
      breaklines=false,
      tabsize=8,
      basicstyle   = \pgcode,
      commentstyle = \color{gray},
      keywordstyle = \color{darkgray}\textbf,
      stringstyle  = \color{green!70!black},
      stringstyle  = \color{red},
      columns      = fullflexible,
      numberstyle  = \scriptsize\sffamily\color{gray},
      showstringspaces = false,
      %frame=single,
      %framerule=0pt,
      %framextopmargin=1pt,
      %framexbottommargin=1pt,
      %framexleftmargin=1pt,
      xleftmargin=0pt,
      %framesep=3pt,
      %xleftmargin=3pt,
      linewidth={\dimexpr \linewidth-3pt}  
    }
}{}

\lstnewenvironment{lstcodesimple}[1][1]{
  \lstset{
      language     = Java,
      float=t,
      backgroundcolor=\color{gray!10!white},
      breaklines=false,
      tabsize=8,
      basicstyle   = \pgcode,
      commentstyle = \color{gray},
      keywordstyle = \color{darkgray}\textbf,
      stringstyle  = \color{green!70!black},
      stringstyle  = \color{red},
      columns      = fullflexible,
      numberstyle  = \scriptsize\sffamily\color{gray},
      showstringspaces = false,
      frame=single,
      framerule=0pt,
      %framextopmargin=1pt,
      %framexbottommargin=1pt,
      %framexleftmargin=1pt,
      %xleftmargin=4pt,
      framesep=3pt,
      xleftmargin=3pt,
      linewidth={\dimexpr \linewidth-3pt},
      belowcaptionskip=5pt,
      caption=#1
  }
}{}

%%% Custom utility commands
\newcommand*\cleartoleftpage{%
  \clearpage
  \ifodd\value{page}\hbox{}\newpage\fi
}

\newcommand{\todef}[1]{\textbf{#1}}
\newcommand{\toem}[1]{\textbf{#1}}

\newcommand{\Fig}{ပုံ\xspace}
\newcommand{\Lst}{\myen{Listing}\xspace}
\newcommand{\enprogramming}{ပရိုဂရမ်းမင်း{\myen{(programming)}}}
\newcommand{\mmprogramming}{ပရိုဂရမ်းမင်း}
\newcommand{\enprogram}{ပရိုဂရမ်{\myen{(program)}}}
\newcommand{\mmprogram}{ပရိုဂရမ်}
\newcommand{\encommand}{ကွန်မန်း{\myen{(command)}}}
\newcommand{\mmcommand}{ကွန်မန်း}
\newcommand{\encorner}{ကွန်နာ{\myen{(corner)}}}
\newcommand{\mmcorner}{ကွန်နာ}
\newcommand{\enbeeper}{ဘိပါ{\myen{(beeper)}}}
\newcommand{\mmbeeper}{ဘိပါ}
\newcommand{\enprogramCode}{ပရိုဂရမ်ကုဒ်{\myen{(program code)}}}
\newcommand{\mmprogramCode}{ပရိုဂရမ်ကုဒ်}
\newcommand{\enprogrammingLanguageDef}{ပရိုဂရမ်ရေးရန် အသုံးပြုသည့် ဘာသာစကား{\myen{(programming language)}}}
\newcommand{\enprogrammingLanguage}{{\myen{programming language}}\xspace}
\newcommand{\enControlFlowStatements}{{\myen{control flow statements}}\xspace}

\newcommand{\enavenue}{ရိပ်သာလမ်း{\myen{(avenue)}}}
\newcommand{\mmavenue}{ရိပ်သာလမ်း}
\newcommand{\enstreet}{လမ်း{\myen{(street)}}}
\newcommand{\mmstreet}{လမ်း}

\newcommand{\enrun}{{\myen{run}}\xspace}
\newcommand{\mmrun}{\myen{run}\xspace}

\newcommand{\enJPL}{{\myen{Java Programming Language}}\xspace}
\newcommand{\mmJPL}{{\myen{Java Programming Language}\xspace}}

\newcommand{\enPL}{“ပရိုဂရမ်ရေးရန် အသုံးပြုသည့် ဘာသာစကား”{\myen{(programming language)}}}
\newcommand{\mmPL}{{\myen{programming language}}\xspace}

\newcommand{\encomputer}{ကွန်ပျူတာ{\myen{(computer)}}}
\newcommand{\mmcomputer}{ကွန်ပျူတာ}

\newcommand{\ensyntax}{ဆင်းတက်စ်{\myen{(syntax)}}}
\newcommand{\mmsyntax}{ဆင်းတက်စ်}
\newcommand{\ensemicol}{ဆမ်မီကော်လံ{\myen{(semicolon)}}}
\newcommand{\mmsemicol}{ဆမ်မီကော်လံ}
\newcommand{\eniteration}{အီထရေးရှင်း{\myen{(iteration)}}}
\newcommand{\mmiteration}{အီထရေးရှင်း}

\newcommand{\ensyntaxerr}{ဆင်းတက်စ် အမှား{\myen{(syntax error)}}}
\newcommand{\mmsyntaxerr}{ဆင်းတက်စ် အမှား}

\newcommand{\enintellij}{\myen{IntelliJ IDEA}\xspace}

\newcommand{\enIDEFull}{\myen{Integrated Development Environment(IDE)}\xspace}
\newcommand{\enIDE}{\myen{IDE}\xspace}

\newcommand{\encurlybrpair}{တွန့်ကွင်း အဖွင့်နှင့် အပိတ်{\myen{opening and closing curly braces}}}
\newcommand{\mmcurlybrpair}{တွန့်ကွင်း အဖွင့်နှင့် အပိတ်}
\newcommand{\enOpeningCurlyBrace}{အဖွင့်တွန့်ကွင်း{\myen{opening brace}}}
\newcommand{\mmOpeningCurlyBrace}{အဖွင့်တွန့်ကွင်း}
\newcommand{\enClosingCurlyBrace}{အပိတ်တွန့်ကွင်း{\myen{closing curly brace}}}
\newcommand{\mmClosingCurlyBrace}{အပိတ်တွန့်ကွင်း}

\newcommand{\entemplate}{{\myen{template}}\xspace}
\newcommand{\enBody}{ဘော်ဒီ{\myen{body}}}
\newcommand{\mmBody}{ဘော်ဒီ}

\newcommand{\enForLoop}{{\mycode{for} \myen{loop}}\xspace}
\newcommand{\enForLoopBody}{{\mycode{for} \myen{loop} \mmBody}\xspace}
\newcommand{\enWhileLoop}{{\mycode{while} \myen{loop}}\xspace}
\newcommand{\enWhileLoopBody}{{\mycode{while} \myen{loop} \mmBody}\xspace}

\newcommand{\enIf}{{\myen{template}}\xspace}
\newcommand{\enIfElse}{{\myen{template}}\xspace}

\newcommand{\enCondition}{ကွန်ဒီးရှင်း{\myen{condition}}}
\newcommand{\mmCondition}{ကွန်ဒီးရှင်း}

\newfontfamily{\MymrSubst}{Noto Serif Myanmar SemiCondensed Bold}


\XeTeXinterchartokenstate=1
\newXeTeXintercharclass\MymrSubst

\count255="0
\loop\ifnum\count255<"255
  \XeTeXcharclass\count255=\MymrSubst
  \advance\count255 by 1
\repeat



\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}


\title{\Huge\mmpdk Programming with Java } 
\author{Pyi Soe} 
\date{05-05-2022}

\begin{document}

\setcounter{secnumdepth}{2} % counter for susubsection
\setcounter{tocdepth}{3} % to view susubsection in toc

\frontmatter
\maketitle
\tableofcontents
\cleardoublepage

\mainmatter
% To test and verify macros and declarations have the desired effect
%\include{ch00_testing}
\include{ch01}
\include{ch02}
%\include{ch03}



\end{document}